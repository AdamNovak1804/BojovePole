<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

class CreateTerritoriesTable extends Migration
{
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up()
    {
        Schema::create('territories', function (Blueprint $table) {
            $table->id();
            $table->boolean('visible');
            $table->enum('reliability', ['0', '1', '2', '3', '4', '5']);
            $table->date('start_date');
            $table->date('end_date');
            $table->json('map');
            $table->string('color', 45);
            $table->unsignedBigInteger('country');
            $table->foreign('country')->references('id')->on('countries');
            $table->timestamps();
        });

        DB::table('territories')->insert([
            [
                'visible' => 1,
                'reliability' => 3,
                'start_date' => '1914-11-20',
                'end_date' => '1914-11-23',
                'map' => '{"vertices": [[49.1119877837276, 22.401123046875004], [49.079165897411904, 22.33451843261719], [49.10299764449561, 22.240447998046875], [49.151749599962145, 22.223968505859375], [49.15444416202391, 22.23667144775391], [49.153321445643414, 22.238731384277347], [49.14186828508563, 22.280273437500004], [49.14119448731175, 22.29606628417969], [49.137376126884774, 22.303619384765625], [49.13535452285825, 22.317695617675785], [49.14501255356966, 22.33451843261719], [49.14411421150312, 22.359924316406257], [49.14636003613355, 22.367477416992188], [49.13400674103439, 22.37743377685547], [49.1268179524038, 22.390136718750004], [49.118279912014856, 22.390823364257816]]}',
                'color' => 'red',
                'country' => 2,
                'created_at' => now(),
                'updated_at' => now()
            ],
            [
                'visible' => 1,
                'reliability' => 3,
                'start_date' => '1914-11-23',
                'end_date' => '1914-11-28',
                'map' => '{"vertices": [[48.910376074679675, 22.42584228515625], [48.9771223640281, 22.115478515625004], [49.1561730947985, 22.223968505859375], [49.13191760610164, 22.320098876953125], [49.144496008185975, 22.332458496093754], [49.144496008185975, 22.36953735351563], [49.13012043093182, 22.38052368164063], [49.129221818916314, 22.387390136718754], [49.11953075170471, 22.390136718750004], [49.09885414014287, 22.42721557617188], [49.10334978870358, 22.450561523437504], [49.08581445633302, 22.491760253906257], [49.08491504154384, 22.49588012695313], [49.090311285919505, 22.50892639160157], [49.09255954799005, 22.542572021484375], [49.08626415761861, 22.56729125976563], [49.079518210699305, 22.549438476562504], [49.02641813312918, 22.55287170410156], [49.02056465594044, 22.535705566406257], [49.00480187205991, 22.547378540039062], [48.99534180605655, 22.51235961914063], [48.99984682348434, 22.499313354492188], [48.99173749875014, 22.475280761718754], [48.972810606975145, 22.47802734375], [48.971909147121565, 22.463607788085938], [48.92861990415228, 22.42446899414063], [48.919596584165674, 22.430648803710938]]}',
                'color' => 'red',
                'country' => 2,
                'created_at' => now(),
                'updated_at' => now()
            ],
            [
                'visible' => 1,
                'reliability' => 3,
                'start_date' => '1914-11-24',
                'end_date' => '1914-11-28',
                'map' => '{"vertices": [[48.91308374159097, 21.853179931640625], [48.96089499617653, 22.131958007812504], [48.911278646621426, 22.42584228515625], [48.9257175803013, 22.42584228515625], [48.99154225753424, 22.479400634765625], [48.99694864189298, 22.51785278320313], [49.00595797866606, 22.541198730468754], [49.01856831223749, 22.537078857421875], [49.02487228124203, 22.549438476562504], [49.07887354957028, 22.55630493164063], [49.08786805857901, 22.565917968750004], [49.09416324559243, 22.535705566406257], [49.08516987693061, 22.49588012695313], [49.1022558845871, 22.44781494140625], [49.097760136931754, 22.42172241210938], [49.145394343331034, 22.365417480468754], [49.134613246704426, 22.314605712890625], [49.15168223334746, 22.22671508789063], [49.01046203590368, 22.13607788085938]]}',
                'color' => 'red',
                'country' => 2,
                'created_at' => now(),
                'updated_at' => now()
            ]
        ]);
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down()
    {
        Schema::dropIfExists('territories');
    }
}
